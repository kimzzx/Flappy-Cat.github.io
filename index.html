<!doctype html>
<html lang="th" class="h-full">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flappy Cat ğŸ±ğŸ</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{font-family:'Kanit',sans-serif}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes sparkle{0%,100%{opacity:1}50%{opacity:.7}}
.cat-float{animation:float 1.5s ease-in-out infinite}
.fruit-sparkle{animation:sparkle .8s ease-in-out infinite}
.game-bg-playing{
background:url('https://drive.google.com/thumbnail?id=190VZ-Nrg10S9mr46wLxKC4Dd-EUuqFcD&sz=s800') center/cover
}
</style>
</head>

<body class="h-full m-0 overflow-hidden">
<div id="app" class="w-full h-full relative">

<!-- START SCREEN -->
<div id="startScreen" class="w-full h-full flex flex-col items-center justify-center bg-gradient-to-b from-pink-200 to-rose-100">
<div class="text-center">
<div class="text-8xl mb-4 cat-float">ğŸ±</div>
<h1 class="text-5xl font-bold text-pink-600 mb-2">Flappy Cat</h1>
<p class="text-xl text-pink-500 mb-6">à¹€à¸à¹‡à¸šà¸œà¸¥à¹„à¸¡à¹‰à¹ƒà¸«à¹‰à¸•à¸£à¸‡à¹€à¸›à¹‰à¸²!</p>
<button id="startBtn"
class="bg-pink-500 hover:bg-pink-600 text-white text-2xl px-12 py-4 rounded-full shadow-xl">
ğŸ® à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸à¸¡!
</button>
</div>
</div>

<!-- GAME SCREEN -->
<div id="gameScreen" class="hidden w-full h-full relative game-bg-playing">
<div class="absolute inset-0 bg-black/20"></div>

<div class="absolute top-4 left-4 right-4 flex justify-between z-20">
<div class="bg-white px-4 py-2 rounded-xl">à¸„à¸°à¹à¸™à¸™: <span id="score">0</span></div>
<div class="bg-white px-4 py-2 rounded-xl">à¹€à¸à¹‡à¸š: <span id="targetFruit">ğŸ</span></div>
<div class="bg-white px-4 py-2 rounded-xl"><span id="lives">â¤ï¸â¤ï¸â¤ï¸</span></div>
</div>

<div id="gameArea" class="w-full h-full relative z-10">
<div id="cat" class="absolute text-6xl" style="left:15%;top:50%">ğŸ±</div>
<div id="fruitsContainer" class="absolute inset-0"></div>
</div>
</div>

<!-- GAME OVER -->
<div id="gameOverScreen" class="hidden w-full h-full flex items-center justify-center bg-pink-200">
<div class="text-center">
<h2 class="text-5xl mb-4">à¹€à¸à¸¡à¹‚à¸­à¹€à¸§à¸­à¸£à¹Œ</h2>
<p class="text-2xl">à¸„à¸°à¹à¸™à¸™: <span id="finalScore">0</span></p>
<button id="restartBtn"
class="mt-6 bg-purple-500 hover:bg-purple-600 text-white px-10 py-4 rounded-full">
à¹€à¸¥à¹ˆà¸™à¹ƒà¸«à¸¡à¹ˆ
</button>
</div>
</div>

</div>

<script>
/* ---------- GAME LOGIC ---------- */

const startScreen=document.getElementById('startScreen')
const gameScreen=document.getElementById('gameScreen')
const gameOverScreen=document.getElementById('gameOverScreen')
const startBtn=document.getElementById('startBtn')
const restartBtn=document.getElementById('restartBtn')
const cat=document.getElementById('cat')
const fruitsContainer=document.getElementById('fruitsContainer')

const scoreEl=document.getElementById('score')
const livesEl=document.getElementById('lives')
const targetFruitEl=document.getElementById('targetFruit')
const finalScoreEl=document.getElementById('finalScore')

const FRUITS=['ğŸ','ğŸŠ','ğŸ‹','ğŸ‡','ğŸ“']
const GRAVITY=0.4
const JUMP=-8
const SPEED=0.4

let state

function resetGame(){
state={
playing:true,
score:0,
lives:3,
y:50,
vy:0,
target:FRUITS[Math.floor(Math.random()*FRUITS.length)],
fruits:[]
}
scoreEl.textContent=0
livesEl.textContent='â¤ï¸â¤ï¸â¤ï¸'
targetFruitEl.textContent=state.target
fruitsContainer.innerHTML=''
}

function startGame(){
resetGame()
startScreen.classList.add('hidden')
gameOverScreen.classList.add('hidden')
gameScreen.classList.remove('hidden')
requestAnimationFrame(loop)
spawnTimer=setInterval(spawnFruit,1200)
}

function endGame(){
state.playing=false
clearInterval(spawnTimer)
gameScreen.classList.add('hidden')
gameOverScreen.classList.remove('hidden')
finalScoreEl.textContent=state.score
}

function spawnFruit(){
if(!state.playing)return
const f={
id:Date.now()+Math.random(),
emoji:FRUITS[Math.floor(Math.random()*FRUITS.length)],
x:100,
y:10+Math.random()*70
}
state.fruits.push(f)

const el=document.createElement('div')
el.id=`fruit-${f.id}`
el.className='absolute text-5xl fruit-sparkle'
el.textContent=f.emoji
el.style.left=`${f.x}%`
el.style.top=`${f.y}%`
fruitsContainer.appendChild(el)
}

function jump(){ if(state.playing) state.vy=JUMP }

function loop(){
if(!state.playing)return

state.vy+=GRAVITY
state.y+=state.vy*0.5
state.y=Math.max(5,Math.min(85,state.y))
cat.style.top=`${state.y}%`
cat.style.transform=`rotate(${state.vy*3}deg)`

state.fruits.forEach((f,i)=>{
f.x-=SPEED*5
const el=document.getElementById(`fruit-${f.id}`)
if(el){
el.style.left=`${f.x}%`
const hit=Math.abs(f.x-15)<6 && Math.abs(f.y-state.y)<8
if(hit){
if(f.emoji===state.target){
state.score+=10
state.target=FRUITS[Math.floor(Math.random()*FRUITS.length)]
targetFruitEl.textContent=state.target
}else{
state.lives--
livesEl.textContent='â¤ï¸'.repeat(state.lives)
}
el.remove()
state.fruits.splice(i,1)
scoreEl.textContent=state.score
if(state.lives<=0) endGame()
}
if(f.x<-10){ el?.remove(); state.fruits.splice(i,1) }
}
})
requestAnimationFrame(loop)
}

/* EVENTS */
startBtn.onclick=startGame
restartBtn.onclick=startGame
gameScreen.onclick=jump
document.onkeydown=e=>{ if(e.code==='Space') jump() }
</script>
</body>
</html>
